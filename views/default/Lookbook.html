{{extend 'layout.html'}}

{{block head}}
{{end}}

<div class="main_content container">

  {{if auth.user is not None:}}

    <p> <a class = "btn navy" href ="{{=URL('default','add')}}">Make A Post! {{db.Posts}}</a> </p>
    {{for post in Posts:}}

      <div class = "third">
        <div class = "OuterCard">
        <div class = "blogpost">
        <!--  <i class="fa fa-heart-o FavButton"></i> -->
          <!---<div class="LikeButton">

          </div> -->
          <a class="EditPost" href="{{=URL('default', 'edit', args=[post.id])}}">
              <i class="fa fa-edit fa-lg"></i>
          </a>
          <div class = "Author">
            <a>{{=post.PostedBy}}</a>
            <!-- https://stackoverflow.com/questions/12605934/formatting-date-in-web2py-python -->
              <div class= "PostDate">{{=post.CreatedOn.strftime("%B %d, %Y")}}</div>

          </div>
          <img class = "UploadedImage" src="{{=URL('default', 'download', args= post.Picture)}}" />
          <div class = "MSG">{{=post.MyMessage}}</div>
          <div class="ButtonArea">
            <label class = "LikeButton">
              <input type="checkbox">
              <i class="fa fa-thumbs-o-up unchecked"></i>
              <i class ="fa fa-thumbs-up checked"></i>
            </label>
            <label class="UnlikeButton">
              <input type="checkbox">
              <i class="fa fa-thumbs-o-down unchecked" aria-hidden="true"></i>
              <i class="fa fa-thumbs-down checked"></i>
            </label>
            <a class="DeletePost" href="{{=URL('default', 'delete', args=[post.id], user_signature=True)}}">
                <i class="fa fa-trash-o fa-lg"></i>
            </a>
          </div>

        </div>
      </div>
    </div>

    {{pass}}

  {{else:}}
    <h1> Not logged in </h1>

  {{pass}}


  <!-- Here goes your main HTML code. -->

</div>
